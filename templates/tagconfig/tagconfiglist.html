{% extends 'header/designheader.html' %}

{% block title %}
Tag Config
{% endblock %}


{% block content %}
<div class="card">
    <div class="card-header">IOT TAG CONFIGURATION</div>
    <div class="card-body">
                    <table class="card-body-table">
                        <thead class="primary-background">
                            <th>TAG NAME</th>
                            <th width="11%">SOURCE INTERFACE</th>
                            <th>MODBUS TCP/IP</th>
                            <th>PORT</th>
                            <th>SLAVE ID</th>
                            <th>FUNCTION CODE</th>
                            <th>REG ADDRESS</th>
                            <th>NO OF REG READ</th>
                            <th>DATA TYPE</th>
                            <th>MODBUS FUNCTION</th>
                            <th>MULTIPLICATION FACTOR</th>
                            <th width="6%">MODBUS BASE ADDRESS</th>
                            <th>MODBUS STRING INDEX</th>
                            <th>MQTT TOPIC</th>
                            <th>MQTT FUNCTION</th>
                            <th>TRANSMIT TYPE</th>
                            <th>TRANSMIT INTERVAL</th>
                            <th>ACTION</th>
                        </thead>

                        {%for data in tagconfigdata %}

                        <tr class="tr {% if loop.index0 % 2 ==0 %} stripped-background {%endif%}" onclick="window.location='/tagconfigview?id={{data['_id']}}';">


                            <td class="td ">{{data['tag_name']}}</td>
                            <td>{{data['source_interface']}}</td>
                            <td>{{data['modbus_tcp_ip_id']}}</td>
                            <td>{{data['port']}}</td>
                            <td>{{data['slave_id']}}</td>
                            <td>{{data['function_code']}}</td>
                            <td>{{data['reg_address']}}</td>
                            <td>{{data['no_of_reg_read']}}</td>
                            <td>{{data['datatype']}}</td>
                            <td>{{data['modbus_function']}}</td>
                            <td>{{data['multiplication_factor']}}</td>
                            <td>{{data['modbus_base_address']}}</td>
                            <td>{{data['modbus_string_id']}}</td>
                            <td>{{data['mqtt_topic_id']}}</td>
                            <td>{{data['mqtt_function']}}</td>
                            <td>{{data['transmit_type']}}</td>
                            <td>{{data['transmit_interval']}}</td>
                            <td class="icon"><a href="/deletetagconfig?id={{data['_id']}}"><i class="fa fa-trash"></i></a></td>
                        </tr>
                        {% endfor %}
                    </table>
    </div>

</div>

<table class="button-center">
    <tr>
        <td>
            <button class="add-button" onclick="window.location='/tagconfigview'">ADD</button>
        </td>
        <td>
            <button class="generate-button" onclick="window.location='/generatetagconfigfile'">GENERATE</button>
        </td>
    </tr>
</table>




{% endblock %}